{% extends 'base.html' %}
{% block content %}
<div class="info">
    {{ error }}<br>
    {% if user.is_authenticated %}
        <!-- 게시판 이름 -->
        <div class="board_name" > 
            {{ board_name }} 게시판 
        </div>
        {% if board == 'minwon' or board == 'freeboard' %}
        <!-- Minwon, freeboard 게시판 -->
        <div class="minwon_or_free_new">
            <form method="POST" action="{% url 'editfeed' board category fid %}">
                {% csrf_token %}
                <div>
                    제목</br>
                    <input name="title" type=" text" style="width:400px; height:50px;" 
                        value={{feed.title}} required>
                </div></br>
                <div>
                    내용</br>
                    <input name="content" type="text"  style="width:400px; height:50px;" 
                            value={{feed.content}} required>
                </div></br>
                <div>
                    사진</br>
                    <input name="photo" type="file"/> 
                    {% if feed.photo %} 
                        <img src="{{ feed.photo.url }}">
                    {% endif %}
                </div></br>
                <div class="option_noname">
                    {% if feed.noname %}
                        <input name="noname" type="checkbox" id="noname" checked>
                        <label for="noname">익명</label>
                    {% else %}
                        <input name="noname" type="checkbox" id="noname">
                        <label for="noname">익명</label>
                    {% endif %}
                </div></br>
                <button type="submit">글쓰기</button>
            </form>
        </div>
        {% elif category == 'cobuy' %}
        <!-- Cobuy 공구 게시판 -->
        <div class="cobuy_board_new">
            <form method="POST" action="{% url 'editfeed' 'life' 'cobuy' fid %}">
                {% csrf_token %}
                <div>
                    제목 </br>
                    <input name="title" type="text"  style="width:400px; height:50px;" 
                            value={{feed.title}} required>
                </div></br>
                <div>
                    가격</br>
                    <input name="price" type="text"  style="width:400px; height:50px;" 
                            value={{feed.price}} required>
                </div></br>
                <div>
                    링크</br>
                    <input name="url" type="text"  style="width:400px; height:50px;" 
                            value={{feed.url}} required>
                </div></br>
                <div>
                    마감일</br>
                    {% if feed.duedate|date:"Y.m.d" == '2020.01.01' %}
                    <input name="duedate" id="dueDate" type="date" disabled>
                    <div>
                        <input name="uncertain" type="checkbox" id="uncertain2" checked>
                        <label for="uncertain2">미정</label>
                    {% else %}
                    <input name="duedate" id="edueDate" value="{{feed.duedate|date:"Y-m-d"}}" type="date" required>
                    <div>
                        <input name="uncertain" type="checkbox" id="euncertain2">
                        <label for="euncertain2">미정</label>
                    {% endif %}
                    </div></br>
                </div></br>
                <div>
                    설명</br>
                    <input name="content" type="text"  style="width:400px; height:50px;" 
                            value={{feed.content}} required>
                </div></br>
                <div>
                    사진</br>
                    <input name="photo" type="file"/> 
                    {% if feed.photo %} 
                        <img src="{{ feed.photo.url }}">
                    {% endif %}
                </div></br>
                 {% if feed.status.0 == 'ongoing' %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="진행중" id="status" checked>
                        <label for="status">진행중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status">
                        <label for="status">완료</label>
                    </div></br>
                {% else %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="진행중" id="status">
                        <label for="status">진행중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status" checked>
                        <label for="status">완료</label>
                    </div></br>
                {% endif %}
                <div class="option_noname">
                    {% if feed.noname %}
                        <input name="noname" type="checkbox" id="noname" checked>
                        <label for="noname">익명</label>
                    {% else %}
                        <input name="noname" type="checkbox" id="noname">
                        <label for="noname">익명</label>
                    {% endif %}
                </div></br>
                <button type="submit">글쓰기</button>
            </form>
        </div>
        {% elif category == 'rent' %}
        <!-- Rent 게시판 -->
        <div class="rent_board_new"> 
            <form method="POST" action="{% url 'editfeed' 'life' 'rent' fid %}">
                {% csrf_token %}
                <div>
                    제목 </br>
                    <input name="title" type="text"  style="width:400px; height:50px;" 
                            value={{feed.title}} required>
                </div></br>
                <div style="display:flex;">
                    목적 </br>
                    {% if feed.purpose.0 == 'lender'%}                 
                        <input name="purpose" type="checkbox" value="borrow" id="purpose" onclick="doOpenCheck(this);" checked>
                        <label for="purpose">빌려줄게요</label>
                        <input name="purpose" type="checkbox" value="lend" id="purpose" onclick="doOpenCheck(this);">
                        <label for="purpose">빌려주세요</label>
                    {% else %}
                        <input name="purpose" type="checkbox" value="borrow" id="purpose" onclick="doOpenCheck(this);">
                        <label for="purpose">빌려줄게요</label>
                        <input name="purpose" type="checkbox" value="lend" id="purpose" onclick="doOpenCheck(this);" checked>
                        <label for="purpose">빌려주세요</label>
                    {% endif %}
                </div></br>
                <div>
                    대여료</br>
                    <input name="deposit" type="text" style="width:400px; height:50px;" 
                    value={{feed.deposit}} required>
                </div></br>
                <div style="display:flex;">
                    시작일</br>
                    {% if feed.start_date|date:"Y.m.d" == '2020.01.01' %}
                    <input name="start_date" id="startDate" type="date" disabled>
                    <div>
                        <input name="uncertain" type="checkbox" id="uncertain1" checked>
                        <label for="uncertain1">미정</label>
                    {% else %}
                    <input name="start_date" id="estartDate" value="{{feed.start_date|date:"Y-m-d"}}" type="date" required>
                    <div>
                        <input name="uncertain" type="checkbox" id="euncertain1">
                        <label for="euncertain1">미정</label>
                    {% endif %}
                    </div></br>
                </div></br>
                <div style="display:flex;">
                    마감일</br>
                    {% if feed.end_date|date:"Y.m.d" == '2020.01.01' %}
                    <input name="duedate" id="dueDate" type="date" disabled>
                    <div>
                        <input name="uncertain" type="checkbox" id="uncertain2" checked>
                        <label for="uncertain2">미정</label>
                    {% else %}
                    <input name="duedate" id="edueDate" value="{{feed.end_date|date:"Y-m-d"}}" type="date" required>
                    <div>
                        <input name="uncertain" type="checkbox" id="euncertain2">
                        <label for="euncertain2">미정</label>
                    {% endif %}
                    </div></br>
                </div></br>
                <div>
                    설명</br>
                    <input name="content" type="text"  style="width:400px; height:50px;" 
                            value={{feed.content}} required>
                </div></br>
                <div>
                    사진</br>
                    <input name="photo" type="file"/> 
                    {% if feed.photo %} 
                        <img src="{{ feed.photo.url }}">
                    {% endif %}
                </div></br>
                {% if feed.status.0 == 'ongoing' %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="진행중" id="status" checked>
                        <label for="status">진행중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status">
                        <label for="status">완료</label>
                    </div></br>
                {% else %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="진행중" id="status">
                        <label for="status">진행중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status" checked>
                        <label for="status">완료</label>
                    </div></br>
                {% endif %}
               <div class="option_noname">
                    {% if feed.noname %}
                        <input name="noname" value="{{feed.start_date|date:"Y-m-d"}}" type="checkbox" id="noname" checked>
                        <label for="noname">익명</label>
                    {% else %}
                        <input name="noname" value="{{feed.end_date|date:"Y-m-d"}}" type="checkbox" id="noname">
                        <label for="noname">익명</label>
                    {% endif %}
                </div></br>
                <button type="submit">글쓰기</button>
            </form>
        </div> 
        {% elif category == "keep" %}
        <!-- Keep 게시판 -->
        <div class="keep_board_new">
            <form method="POST" action="{% url 'editfeed' 'life' 'keep' fid %}">
                {% csrf_token %}
                <div>
                    제목 </br>
                    <input name="title" type="text" style="width:400px; height:50px;"
                         value={{feed.content}} required>
                </div></br>
                <div>
                    목적 </br>
                    {% if feed.purpose.0 == 'lender' %}
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" id="purpose" value="keep" checked="checked">
                        <label for="purpose">보관할래요</label>
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" id="purpose" value="request">    
                        <label for="purpose">보관해줄래요</label><br> 
                    {% else %}
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" id="purpose" value="keep">
                        <label for="purpose">보관할래요</label>
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" id="purpose" value="request" checked="checked">    
                        <label for="purpose">보관해줄래요</label><br> 
                    {% endif %}
                </div> 
                <div >
                    보관료</br>
                    <input name="reward" type="text" style="width:400px; height:50px;"
                    value={{feed.reward}} required>
                </div></br>
                <div style="display:flex;">
                    시작일
                    {% if feed.start_date|date:"Y.m.d" == '2020.01.01' %}
                    <input name="start_date" id="startDate" type="date" disabled>
                    <div>
                        <input name="uncertain" type="checkbox" id="uncertain1" checked>
                        <label for="uncertain1">미정</label>
                    {% else %}
                    <input name="start_date" id="estartDate" value="{{feed.start_date|date:"Y-m-d"}}" type="date" required>
                    <div>
                        <input name="uncertain" type="checkbox" id="euncertain1">
                        <label for="euncertain1">미정</label>
                    {% endif %}
                    </div></br>
                </div></br>
                <div style="display:flex;">
                    마감일</br>
                    {% if feed.end_date|date:"Y.m.d" == '2020.01.01' %}
                    <input name="duedate" id="dueDate" type="date" disabled>
                    <div>
                        <input name="uncertain" type="checkbox" id="uncertain2" checked>
                        <label for="uncertain2">미정</label>
                    {% else %}
                    <input name="duedate" id="edueDate" value="{{feed.end_date|date:"Y-m-d"}}" type="date" required>
                    <div>
                        <input name="uncertain" type="checkbox" id="euncertain2">
                        <label for="euncertain2">미정</label>
                    {% endif %}
                    </div></br>
                </div></br>
                <div>
                    설명</br>
                    <input name="content" type="text"  style="width:400px; height:50px;" 
                             value="{{feed.content}}" required>
                </div></br>
                <div>
                    사진</br>
                    <input name="photo" type="file"/> 
                    {% if feed.photo %} 
                        <img src="{{ feed.photo.url }}">
                    {% endif %}
                </div></br>
                 {% if feed.status.0 == 'ongoing' %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="진행중" id="status" checked>
                        <label for="status">진행중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status">
                        <label for="status">완료</label>
                    </div></br>
                {% else %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="진행중" id="status">
                        <label for="status">진행중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status" checked >
                        <label for="status">완료</label>
                    </div></br>
                {% endif %}
                <div class="option_noname">
                    {% if feed.noname %}
                        <input name="noname" type="checkbox" id="noname" checked>
                        <label for="noname">익명</label>
                    {% else %}
                        <input name="noname" type="checkbox" id="noname">
                        <label for="noname">익명</label>
                    {% endif %}
                </div></br>
                <button type="submit">글쓰기</button>
            </form>
        {% elif category == "resell" %}
        <!-- Resell 게시판 -->
        <div class="resell_board_new">
            <form method="POST" action="{% url 'editfeed' 'life' 'resell' fid %}">
                {% csrf_token %}
                <div>
                    제목 </br>
                    <input name="title" type="text" style="width:400px; height:50px;" 
                        value={{feed.title}} required>
                </div></br>
                <div>
                    목적 </br>
                    {% if feed.purpose.0 == 'seller' %}
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" value="sell" id="purpose" checked>
                        <label for="purpose">판매</label>
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" value="buy" id="purpose">
                        <label for="purpose">구매</label><br> 
                    {% else %}
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" value="sell" id="purpose">
                        <label for="purpose">판매</label>
                        <input type="checkbox" name="purpose" onclick="doOpenCheck(this);" value="buy" id="purpose" checked>
                        <label for="purpose">구매</label><br> 
                    {% endif %}
                </div>
                <div>
                    가격</br>
                    <input name="price" type="text" style="width:400px; height:50px;" 
                    value={{feed.price}} required>
                </div></br>
                <div>
                    설명</br>
                    <input name="content" type="text" style="width:400px; height:50px;" 
                             value={{feed.content}} required>
                </div></br>
                <div>
                    사진</br>
                    <input name="photo" type="file"/> 
                    {% if feed.photo %} 
                        <img src="{{ feed.photo.url }}">
                    {% endif %}
                </div></br>
                 {% if feed.status.0 == 'onsale' %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="판매중" id="status" checked>
                        <label for="status">판매중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status">
                        <label for="status">완료</label>
                    </div></br>
                {% else %}
                    <div>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="판매중" id="status">
                        <label for="status">판매중</label>
                        <input name="status" onclick="doStatCheck(this);" type="checkbox" value="완료" id="status" checked>
                        <label for="status">완료</label>
                    </div></br>
                {% endif %}
                <div class="option_noname">
                    {% if feed.noname %}
                        <input name="noname" type="checkbox" id="noname" checked>
                        <label for="noname">익명</label>
                    {% else %}
                        <input name="noname" type="checkbox" id="noname">
                        <label for="noname">익명</label>
                    {% endif %}
                </div></br>
                <button type="submit">글쓰기</button>
            </form>
        {% endif %}
    {% endif %}
</div>
{% endblock content %}